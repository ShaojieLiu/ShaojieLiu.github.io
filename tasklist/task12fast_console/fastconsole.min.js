var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};document.querySelector("body").insertAdjacentHTML("beforeend",'\n  <div class="btn-open btn-lg">\n    <span class="glyphicon glyphicon-asterisk"> Console</span>\n  </div>\n\n  <div class=" console-window">\n\n    <div class="window-btn-top btn-group btn-group-justified">\n      <btn class="btn btn-lg btn-primary " data-tag=".window-console">Console</btn>\n      <btn class="btn btn-lg btn-primary active" data-tag=".window-network">Network</btn>\n      <btn class="btn btn-lg btn-primary" data-tag=".window-storage">Storage</btn>\n    </div>\n\n    <div class="window-console none">\n      <div class="btn-group btn-group-justified window-console-top">\n        <btn class="btn btn-default active" data-tag="" data-action="all">All</btn>\n        <btn class="btn btn-default" data-tag="" data-action="error">Error</btn>\n        <btn class="btn btn-default" data-tag="" data-action="warn">Warn</btn>\n        <btn class="btn btn-default" data-tag="" data-action="info">Info</btn>\n        <btn class="btn btn-default" data-tag="" data-action="log">Log</btn>\n      </div>\n      <ol class="window-console-display">\n      </ol>\n    </div>\n\n    <div class="window-network">\n      <div class="btn-group btn-group-justified window-network-top">\n        <btn class="btn btn-default active" data-tag="" data-action="resource">Resource</btn>\n        <btn class="btn btn-default" data-tag="" data-action="xhr">XMLHttpRequest</btn>\n      </div>\n      <ol class="window-network-display">\n      </ol>\n    </div>\n\n    <div class="window-storage none">\n      <div class="btn-group btn-group-justified window-storage-top">\n        <btn class="btn btn-default active" data-tag="" data-action="all">All</btn>\n        <btn class="btn btn-default" data-tag="" data-action="localStorage">Storage</btn>\n        <btn class="btn btn-default" data-tag="" data-action="cookie">Cookies</btn>\n      </div>\n      <ol class="window-storage-display">\n      </ol>\n    </div>\n\n    <div class="tool-group">\n      <div class="clear tool-btn">\n        <span class="glyphicon glyphicon-ban-circle"></span>\n      </div>&nbsp;&nbsp;&nbsp;&nbsp;\n      <div class="refresh tool-btn">\n        <span class="glyphicon glyphicon-refresh"></span>\n      </div>\n    </div>\n  </div>\n');
var open=window.XMLHttpRequest.prototype.open,send=window.XMLHttpRequest.prototype.send,ReadyStateChange;function openReplacement(a,b,d,e,c){document.querySelector(".window-network-display").insertAdjacentHTML("beforeend",'\n        <li class="window-network-display-xhr" id='+b+">XHR request{method: "+a+", url: "+b+"}</li>");open.apply(this,arguments)}
function sendReplacement(a){var b,d;this.onreadystatechange&&(ReadyStateChange=this.onreadystatechange);this.onreadystatechange=function(){b=new CustomEvent("ajaxReadyStateChange",{detail:this});window.dispatchEvent(b);ReadyStateChange&&ReadyStateChange.apply(this,arguments);if(4===this.readyState){var a="green";400<=this.status&&(a="error",document.querySelector(".window-console-display").insertAdjacentHTML("beforeend",'\n                    <li class="window-console-display-error">\n                      [xhr]~response{status: '+
this.status+", url: "+this.responseURL.split("/")[3]+", response: "+encodeURI(this.response)+"</li>"));console.owarn(this);document.querySelector(".window-network-display").insertAdjacentHTML("beforeend",'\n                <li class="window-network-display-xhr '+a+'">XHR response{status: '+this.status+", url: "+this.responseURL.split("/")[3]+", response: "+encodeURI(this.response)+"}</li>");d=new CustomEvent("ajaxLoad",{detail:this});dispatchEvent(d)}};send.apply(this,arguments)}
document.querySelector(".clear").addEventListener("click",function(){document.querySelectorAll(".window-network-display-xhr").forEach(function(a){a.remove()})});window.XMLHttpRequest.prototype.open=openReplacement;window.XMLHttpRequest.prototype.send=sendReplacement;
function Ajax(a,b,d,e,c){var f=null,f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a=a.toUpperCase();var m=Math.random();f.onreadystatechange=function(){4==f.readyState&&(200==f.status?e(f.responseText):c&&c(f.status))};if("object"==typeof d){var g="",h;for(h in d)g+=h+"="+d[h]+"&";d=g.replace(/&$/,"")}"GET"==a?(d?f.open("GET",b+"?"+d,!0):f.open("GET",b+"?t="+m,!0),f.send()):"POST"==a&&(f.open("POST",b,!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),
f.send(d))}
var Pub=function(){var a=this,b=new Cookie;this.tagSwitch=function(d,b,c){document.querySelector(b).addEventListener("click",function(e){var f=document.querySelector(b+">.active");f&&f.classList.remove("active");e.target.classList.add("active");if(e.target.dataset.tag){for(var f=document.querySelectorAll(d+">div"),g=0;g<f.length;g++)0!=g&&f[g].classList.add("none");document.querySelector(""+e.target.dataset.tag).classList.remove("none")}else"clearConsole"===e.target.dataset.action?(console.clear(),document.querySelector(".window-console-display").innerHTML=
""):a.render(d,b,c)})};this.render=function(d,b,c){document.querySelectorAll(d+"-display li");b=document.querySelector(b+" .active").dataset.action;for(var a=0;a<c.length;a++)for(var e=document.querySelectorAll(d+"-display-"+c[a]),e=$jscomp.makeIterator(e),g=e.next();!g.done;g=e.next())if(g=g.value)switch(b){case "all":case c[a]:g.classList.remove("none");break;default:g.classList.add("none")}};this._bind=function(){document.querySelector(".btn-open").addEventListener("click",function(){document.querySelector(".console-window").classList.toggle("none")});
a.tagSwitch(".console-window",".window-btn-top",[]);document.querySelector(".clear").addEventListener("click",function(){switch(document.querySelector(".window-btn-top>.active").dataset.tag.split("-")[1]){case "console":console.clear();document.querySelector(".window-console-display").innerHTML="";break;case "storage":switch(document.querySelector(".window-storage-top>.active").dataset.action){case "all":window.localStorage.clear(),document.querySelectorAll(".window-storage-display-localStorage").forEach(function(b){b.remove()});
case "cookie":b.delcookies();break;case "localStorage":window.localStorage.clear(),document.querySelectorAll(".window-storage-display-localStorage").forEach(function(b){b.remove()})}break;case "network":switch(document.querySelector(".window-network-top>.active").dataset.action){case "resource":document.querySelectorAll(".window-network-display-resource").forEach(function(b){b.remove()})}}})};this.minus=function(b,a){var c=[];b.forEach(function(b){for(var d=!1,e=$jscomp.makeIterator(a),f=e.next();!f.done;f=
e.next())elt2=f.value,elt2.name===b.name&&(d=!0);d||c.push(b)});return c}},ConsoleWindow=function(){var a=new Pub,b=this;this.output=[];this._initConsole=function(){["log","error","warn","debug","info"].forEach(function(a){console["o"+a]=console[a];console[a]=function(){console["o"+a].apply(console,arguments);b.log(arguments,a)}})};this.log=function(b,a){var c=0,d=b.length;if("js"===a)document.querySelector(".window-console-display").insertAdjacentHTML("beforeend",'<li class="window-console-display-error">['+
a+"]~"+b+"</li>");else for(;c<d;c++){var e=typeof b[c];msg=b[c];if("object"===e)if(b[c].constructor===Array){for(var e="array",g="",h=$jscomp.makeIterator(msg),k=h.next();!k.done;k=h.next())g+=k.value+", ";msg="["+g.substring(0,g.length-2)+"]"}else{var g="",l;for(l in msg)g+=l+": "+msg[l]+", ";msg="{"+g.substring(0,g.length-2)+"}"}document.querySelector(".window-console-display").insertAdjacentHTML("beforeend",'<li class="window-console-display-'+a+'">['+a+"]~["+e+"]~"+msg+"</li>")}};this._err=function(){window.onerror=
function(a,e,c){b.log(a+"; Script: "+e+"; Line: "+c,"js")}};this._bind=function(){a.tagSwitch(".window-console",".window-console-top",["error","warn","info","log"])};this._test=function(){console.error("\u9519\u8bef\u6d4b\u8bd5");console.warn("\u8b66\u544a\u6d4b\u8bd5");console.info("\u4fe1\u606f\u6d4b\u8bd5");console.log("\u5b57\u4e32\u6d4b\u8bd5");console.log({key1:"value1",key2:"value2"});console.log(["\u6570","\u7ec4","\u6d4b","\u8bd5"]);console.log(!0);console.log(123)};this._init=function(){b._err();
b._initConsole();b._bind();b._test()};this._init()},Cookie=function(){var a=this;this.keysOfCookie=function(){for(var b=decodeURIComponent(document.cookie).split(";"),a=[],e=0;e<b.length;e++){for(var c=b[e];" "==c.charAt(0);)c=c.substring(1);a.push(c.split("=")[0])}return a};this.setCookie=function(b,a,e){var c=new Date;c.setTime(c.getTime()+864E5*e);e="expires="+c.toUTCString();document.cookie=b+"="+a+";"+e+";path=/;"};this.getCookie=function(b){b+="=";for(var a=decodeURIComponent(document.cookie).split(";"),
e=0;e<a.length;e++){for(var c=a[e];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(b))return c.substring(b.length,c.length)}return""};this.delcookies=function(){document.querySelectorAll(".window-storage-display-cookie").forEach(function(b){b.remove()});a.keysOfCookie().forEach(function(b){a.setCookie(b,"",-10)})}},StorageWindow=function(){var a=new Pub,b=new Cookie,d=this;this.output=[];this.sayLocalStorage=function(){document.querySelectorAll(".window-storage-display-localStorage").forEach(function(b){b.remove()});
for(key in window.localStorage){var b=window.localStorage[key];document.querySelector(".window-storage-display").insertAdjacentHTML("beforeend",'\n      <li class="window-storage-display-localStorage">\n      <span class="glyphicon glyphicon-remove red" data-action=localStorage_'+key+("></span>\n      &nbsp;[localStorage]~{"+key+": "+b+"}</li>"))}};this.sayCookies=function(){document.querySelectorAll(".window-storage-display-cookie").forEach(function(a){a.remove()});var a=b.keysOfCookie();if(""!=
a[0])for(var a=$jscomp.makeIterator(a),c=a.next();!c.done;c=a.next()){var c=c.value,d=b.getCookie(c);document.querySelector(".window-storage-display").insertAdjacentHTML("beforeend",'\n      <li class="window-storage-display-cookie">\n      <span class="glyphicon glyphicon-remove red" data-action=cookie_'+c+("></span>\n      &nbsp;[cookie]~{"+c+": "+d+"}</li>"))}};this.refresh=function(){d.sayLocalStorage();d.sayCookies();document.querySelector(".window-storage-top>.active").click()};this._bind=function(){a.tagSwitch(".window-storage",
".window-storage-top",["localStorage","cookie"]);document.querySelector(".window-storage-display").addEventListener("click",function(a){if(a.target.classList.contains("red")){var c=a.target.dataset.action.split("_");switch(c[0]){case "localStorage":window.localStorage.removeItem(c[1]);d.refresh();break;case "cookie":b.setCookie(c[1],"",-10),d.refresh()}a.target.parentNode.remove()}});document.querySelector(".refresh").addEventListener("click",function(){"storage"==document.querySelector(".window-btn-top>.active").dataset.tag.split("-")[1]&&
d.refresh()});document.querySelector(".btn-open").addEventListener("click",function(){d.refresh()})};this._test=function(){window.localStorage.setItem("key1","value1");window.localStorage.setItem("key2","value2");b.setCookie("username","liushaojie",10);b.setCookie("password","123456",10)};this._init=function(){d._bind();d._test();d.refresh()};this._init()},Network=function(){var a=new Pub,b=this,d=[],e=["script","link","img","video","audio"];this.easyname=function(a){var b=a.length;35<b&&(a=a.substring(b-
35,b));return a};this.resL=function(){var a=[];e.forEach(function(c){document.querySelectorAll(c).forEach(function(d,e,f){(e=b.easyname(d.href||d.src))&&a.push({name:e,type:c});d.addEventListener("error",b.adderror);d.addEventListener("error",b.adderror)})});return d=a};this.adderror=function(a){a=b.easyname(a.target.href||a.target.src);document.querySelector(".window-console-display").insertAdjacentHTML("beforeend",'\n    <li class="window-console-display-error">[res]~'+a+"</li>");(a=document.getElementById(a))&&
a.classList.add("error")};this.renderRes=function(a){var b=document.querySelector(".window-network-display");a.forEach(function(a){b.insertAdjacentHTML("beforeend","<li id="+a.name+' class="window-network-display-resource network-'+a.type+'">['+a.type+"]~"+a.name+"</li>")})};this.addNew=function(){var c=d,c=a.minus(b.resL(),c);b.renderRes(c);document.querySelector(".window-network-top>.active").click()};this._bind=function(){a.tagSwitch(".window-network",".window-network-top",["resource","xhr"]);
document.querySelector(".refresh").addEventListener("click",function(){b.addNew()});document.querySelector(".btn-open").addEventListener("click",function(){b.addNew()})};this._init=function(){b._bind();var a=b.resL();b.renderRes(a)};this._init()},nw=new Network;function _main(){(new Pub)._bind();new ConsoleWindow;new StorageWindow;console.log("main")}_main();document.querySelector("head").insertAdjacentHTML("beforeend",'\n  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">\n  \x3c!-- <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"> --\x3e\n  \x3c!-- <link rel="stylesheet" href="css/index.css" type="text/css"> --\x3e\n');
document.querySelector("head").insertAdjacentHTML("beforeend",'\n<style media="screen">\n*{\n  /*border: 1px solid red;*/\n}\n.btn-open{\n  background-color: lightgray;\n  display: inline-block;\n  position: fixed;\n  opacity: 0.6;\n  right: 10px;\n  bottom: 10px;\n  z-index: 10;\n}\n.btn-open:active{\n  background-color: lightblue;\n}\n\n.console-window{\n  background-color: rgba(200,200,200,0.5);\n  display: block;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.95;\n}\n.window-console-top btn, .window-storage-top btn, .window-network-top btn{\n  font-size: 7px;\n}\n.window-console, .window-storage, .window-network{\n  height: 85%;\n  overflow-y: scroll;\n}\n.window-console-display, .window-storage-display, .window-network-display{\n  height: 95%;\n  padding-left: 0px;\n}\n.console-window li{\n  list-style-position: inside;\n  list-style-type: decimal-leading-zero;\n  border-radius: 3px;\n  /*margin-left: 15px;*/\n  padding-left: 10px;\n  word-break: break-all;\n  border-bottom: 1px solid black;\n  background-color: #eee;\n}\n\ndiv .window-console-display-error{\n  color: darkred;\n  background-color: pink;\n}\ndiv .window-console-display-warn{\n  color: darkorange;\n  background-color: khaki;\n}\ndiv .window-console-display-info{\n  color: darkblue;\n  background-color: lightblue;\n}\ndiv .window-console-display-log{\n  color: black;\n  background-color: #eee;\n}\ndiv .window-console-display-js{\n  color: darkred;\n  background-color: pink;\n}\n\ndiv .network-script{color: darkblue;}\ndiv .network-link{color: darkgreen;}\ndiv .network-img, div .network-video, div .network-audio{color: black;}\n\ndiv .window-storage-display-localStorage{\n  color: darkgreen;\n}\ndiv .window-storage-display-cookie{\n  color: darkblue;\n}\n\n.none{\n  display: none\n}\n.tool-group{\n  display: inline-block;\n  z-index: 10;\n  position: fixed;\n  border-radius: 5px;\n  left: 15px;\n  bottom: 15px;\n}\n.tool-group>div{\n  display: inline-block;\n  background-color: white;\n  border-radius: 50%;\n  border: normal solid lightblue;\n}\n.tool-group>div:active{\n  background-color: lightblue;\n}\n.tool-group>div>span{\n  font-size: 30px;\n  position: relative;\n  top: 2px;\n}\n.green{color: green;}\n.active{\n  background-color: pink;\n}\n.red{\n  color: red;\n}\ndiv .error{\n  color: darkred;\n  background-color: pink;\n}\n</style>');
